webpackJsonp([1],{GZbE:function(t,e){},HYqz:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("Dd8w"),i=n.n(a),c=n("NYxO"),r={data:function(){return{showMember:!1,acc:"",pass:"",warn:!1,passwarn:!1,hasLogin:!1,wrongAcc:!1,wrongPass:!1,arr:[],username:""}},methods:{clear:function(){this.warn=!1,this.passwarn=!1,this.wrongAcc=!1,this.wrongPass=!1,this.acc="",this.pass=""},login:function(){this.showMember=!0},logout:function(){this.hasLogin=!1},close:function(){this.showMember=!1},register:function(){var t=this,e=this.arr.filter(function(e){return console.log(e.acc),console.log(t.acc),e.acc===t.acc}),n=this.acc,s=this.pass;if(""===this.pass)return this.passwarn=!0,!1;this.passwarn=!1,0!==e.length?this.warn=!0:(firebase.database().ref("member").push({acc:n,pass:s}),this.showMember=!1,this.hasLogin=!0,this.username=n,this.acc="",this.pass="")},signIn:function(){var t=this;if(""===this.pass)return this.passwarn=!0,!1;var e=this.arr.filter(function(e){return e.pass===t.pass&&e.acc===t.acc}),n=this.arr.filter(function(e){return e.acc===t.acc});console.log(n);return 0===n.length?(this.wrongAcc=!0,!1):0!==this.arr.filter(function(e){return e.acc===t.acc&&e.pass!==t.pass}).length?(this.wrongPass=!0,!1):void(0!==e.length&&(this.acc="",this.pass="",this.username=e[0].acc,this.showMember=!1,this.hasLogin=!0))}},mounted:function(){var t=void 0,e=this;firebase.database().ref("member").on("value",function(n){for(t in n.val())e.arr.push(n.val()[t])})}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.hasLogin?n("div",{staticClass:"log",on:{click:t.logout}},[t._v("LogOut")]):n("div",{staticClass:"log",on:{click:t.login}},[t._v("LogIn")]),t._v(" "),t.hasLogin?n("div",{staticClass:"username"},[t._v("Hello! "+t._s(t.username))]):t._e(),t._v(" "),t.showMember?n("div",{staticClass:"member fadeIn animated"},[n("div",{staticClass:"acc"},[n("div",[t._v("TYPE YOUR ACCOUNT :)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.acc,expression:"acc"}],attrs:{type:"text",placeholder:"TYPE YOUR ACCOUNT HERE!"},domProps:{value:t.acc},on:{click:t.clear,input:function(e){e.target.composing||(t.acc=e.target.value)}}}),t._v(" "),t.warn?n("div",{staticClass:"warn"},[t._v("THIS NAME HAS BEEN REGISTERED!")]):t._e(),t._v(" "),t.wrongAcc?n("div",{staticClass:"warn"},[t._v("WRONG ACCOUNT!")]):t._e()]),t._v(" "),n("div",{staticClass:"pass"},[n("div",[t._v("TYPE YOUR PASSWORD :)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],attrs:{type:"password",placeholder:"TYPE YOUR PASSWORD HERE!"},domProps:{value:t.pass},on:{click:function(e){t.clear},input:function(e){e.target.composing||(t.pass=e.target.value)}}}),t._v(" "),t.passwarn?n("div",{staticClass:"passwarn"},[t._v("EMPTY PASSWORD!")]):t._e(),t._v(" "),t.wrongPass?n("div",{staticClass:"passwarn"},[t._v("WRONG PASSWORD")]):t._e()]),t._v(" "),n("div",{staticClass:"register",on:{click:t.register}},[t._v("\n            SIGN UP!\n        ")]),t._v(" "),n("div",{staticClass:"signIn",on:{click:t.signIn}},[t._v("\n            SIGN IN!\n        ")]),t._v(" "),n("div",{staticClass:"cancel",on:{click:function(e){t.close(),t.clear()}}},[t._v("\n            CANCEL\n        ")])]):t._e()])},staticRenderFns:[]};var v=n("VU/8")(r,o,!1,function(t){n("vgUL")},"data-v-776d0581",null).exports,u={computed:i()({},Object(c.e)(["movies","cart"]),Object(c.c)(["isMovieInCart"]),{check:function(){return this.isMovieInCart(this.movie)},btnClass:function(){return{add:!0,bought:this.check}},label:function(){return this.check?"Already In Cart":"+ Add To My Cart"}}),props:["movie"],methods:i()({},Object(c.d)(["addCurrent"]),{bgImg:function(t){return{"background-image":"url("+t+")","background-size":"cover","background-position":"center center"}},wheel:function(t){TweenMax.to(".cards",.8,{left:"+="+2*t.deltaY+"px"})}})},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card fadeIn animated"},[n("div",{staticClass:"left"},[n("div",{staticClass:"left zoomIn animated"},[n("div",{staticClass:"cover",style:t.bgImg(t.movie.cover)})])]),t._v(" "),n("div",{staticClass:"right"},[n("h2",[t._v(t._s(t.movie.name))]),t._v(" "),n("h4",[t._v(t._s(t.movie.type))]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.movie.description)}}),t._v(" "),n("div",{staticClass:"price"},[t._v(t._s(t.movie.price)+"$")]),t._v(" "),n("button",{class:t.btnClass,on:{click:function(e){!t.check&&t.addCurrent({movie:t.movie,$event:e})}}},[t._v(t._s(t.label))])])])},staticRenderFns:[]};var d={components:{Card:n("VU/8")(u,l,!1,function(t){n("HYqz")},null,null).exports},computed:i()({},Object(c.e)(["movies","cart"])),methods:{bgImg:function(t){return{"background-image":"url("+t+")","background-size":"cover","background-position":"center center"}},wheel:function(t){TweenMax.to(".cards",.8,{left:"+="+2*t.deltaY+"px"})},check:function(){return this.isMovieInCart(this.movie)}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"movie",on:{wheel:function(e){e.preventDefault(),t.wheel(e)}}},[n("div",{staticClass:"cards"},t._l(t.movies,function(t){return n("Card",{attrs:{movie:t}})}))])},staticRenderFns:[]};var h=n("VU/8")(d,p,!1,function(t){n("GZbE")},"data-v-54a3ae8a",null).exports,m={computed:i()({},Object(c.e)(["cart","isCartOpen","moviecart"]),Object(c.c)({totalPrice:"totalPrice"})),methods:{bgImg:function(t){return{"background-image":"url("+t+")","background-size":"cover","background-position":"center center"}}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{show:t.isCartOpen}},[n("div",{staticClass:"panel animated fadeIn"},[n("i",{staticClass:"fa fa-shopping-cart",staticStyle:{"font-size":"40px"}}),t._v(" "),n("h2",[t._v("My Movie Cart")]),t._v(" "),n("ul",[t._l(t.cart,function(e,s){return n("li",[n("div",{staticClass:"thumbnail",style:t.bgImg(e.cover)}),t._v(" "),n("h3",[t._v(t._s(e.name)+"\n            "),n("div",{staticClass:"price"},[t._v(t._s(e.price)+"$")]),t._v(" "),n("div",{staticClass:"remove",on:{click:function(e){t.cart.splice(s,1),t.moviecart.splice(s,1)}}},[t._v("-")])])])}),t._v(" "),t.cart.length?t._e():n("li",[n("h3",[t._v("Your cart is empty! :(")])])],2),t._v(" "),n("hr"),t._v(" "),n("h2",[t._v(t._s(t.totalPrice)+"$")])])])},staticRenderFns:[]};var g=n("VU/8")(m,f,!1,function(t){n("zsHc")},null,null).exports,_={computed:i()({},Object(c.e)(["currentMovie","cart"])),components:{MovieList:h,MovieInCart:g,Login:v},methods:i()({},Object(c.b)(["getAPI"]),Object(c.d)(["CheckCartOpen"]),{bgImg:function(t){return{"background-image":"url("+t+")","background-size":"cover","background-position":"center center"}}}),created:function(){this.getAPI()},watch:{cart:function(){TweenMax.from(".fa-shopping-cart",.3,{scale:.5})}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mainapp"},[n("Login"),t._v(" "),n("div",{staticClass:"title"},[t._v("Vue Theater")]),t._v(" "),n("MovieList"),t._v(" "),n("div",{staticClass:"fixed-control",on:{click:t.CheckCartOpen}},[n("p",[n("i",{staticClass:"fa fa-shopping-cart"}),n("span",[t._v(t._s(t.cart.length))])])]),t._v(" "),n("MovieInCart"),t._v(" "),t.currentMovie?n("div",{staticClass:"buybox",style:t.bgImg(t.currentMovie.cover)}):t._e()],1)},staticRenderFns:[]};var b=n("VU/8")(_,C,!1,function(t){n("nYtv")},null,null).exports;s.a.use(c.a);var w=new c.a.Store({state:{cart:[],movies:[],isCartOpen:!1,currentMovie:!0,moviecart:[]},mutations:{CheckCartOpen:function(t){t.isCartOpen=!t.isCartOpen},setCart:function(t,e){t.movies=e},addCurrent:function(t,e){t.currentMovie=e.movie;var n=e.$event;t.moviecart.push(e.movie),TweenMax.from(".buybox",.8,{left:$(n.target).offset().left,top:$(n.target).offset().top,opacity:1,ease:Power1.easeIn}),setTimeout(function(){t.cart.push(e.movie)},800)}},actions:{getAPI:function(t){var e=t.commit;fetch("https://monkeywu.github.io/movie-data/").then(function(t){return t.json()}).then(function(t){e("setCart",t)})}},getters:{totalPrice:function(t){return t.cart.map(function(t){return t.price}).reduce(function(t,e){return t+e},0)},isMovieInCart:function(t){return function(e){t.moviecart;return-1!==t.moviecart.findIndex(function(t){return t.id===e.id})}}}});s.a.config.productionTip=!1,new s.a({el:"#app",store:w,components:{App:b},template:"<App/>"})},nYtv:function(t,e){},vgUL:function(t,e){},zsHc:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d98337f7369e73d163cb.js.map